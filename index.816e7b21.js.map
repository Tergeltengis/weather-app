{"mappings":"AAAA,MAAM,cAAc,SAAS,cAAc;AAC3C,MAAM,QAAQ;AACd,MAAM,cAAc;IAClB,MAAM,cAAc,SAAS,cAAc;IAC3C,UAAU;IACV,YAAY,YAAY;IAExB,4BAA4B;IAC5B,MAAM,UAAU,MAAM,MACpB,CAAC,kDAAkD,EAAE,YAAY,MAAM,4GAA4G,CAAC;IAEtL,MAAM,OAAO,MAAM,QAAQ;IAE3B,2BAA2B;IAC3B,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,SAAS,QAAQ,IAAK;QAC7C,MAAM,UAAU,SAAS,cAAc;QACvC,QAAQ,YAAY;QACpB,QAAQ,iBAAiB,SAAS;YAChC,YAAY,KAAK,QAAQ,CAAC,EAAE,CAAC,QAAQ,KAAK,QAAQ,CAAC,EAAE,CAAC;QACxD;QACA,MAAM,QAAQ,SAAS,cAAc;QACrC,MAAM,YAAY,KAAK,QAAQ,CAAC,EAAE,CAAC;QACnC,MAAM,OAAO;QACb,YAAY,OAAO;IACrB;AACF;AACA,YAAY,iBAAiB,YAAY,SAAU,KAAK;IACtD,IAAI,MAAM,QAAQ,SAAS;QACzB,MAAM;QACN,SAAS,eAAe,aAAa;IACvC;AACF;AACA,MAAM,cAAc,CAAC,QAAQ;IAC3B,YAAY,MAAM,CAAC,EAAE,EAAE,MAAM,CAAC,EAAE,EAAE;AACpC;AAEA,MAAM,cAAc,OAAO,KAAK,KAAK;IACnC,IAAI;QACF,MAAM,UAAU,MAAM,MACpB,CAAC,2DAA2D,EAAE,IAAI,KAAK,EAAE,IAAI,aAAa,EAAE,MAAM,aAAa,CAAC;QAElH,MAAM,OAAO,MAAM,QAAQ;QAC3B,MAAM,QAAQ,KAAK,IAAI,CAAC,EAAE;QAE1B,MAAM;QACN,oBAAoB;QACpB,SAAS,iBAAiB,IAAI,CAAC,EAAE,CAAC,YAAY,IAAI,KAChD,MAAM,KAAK,MACX;QACF,SAAS,iBAAiB,IAAI,CAAC,EAAE,CAAC,YAAY,IAAI,KAChD,MAAM,KAAK,MACX;QAEF,gBAAgB;QAChB,SAAS,iBAAiB,KAAK,CAAC,EAAE,CAAC,YAAY;QAC/C,SAAS,iBAAiB,KAAK,CAAC,EAAE,CAAC,YAAY;QAE/C,WAAW;QACX,SAAS,cAAc,SAAS,YAC9B,KAAK,MAAM,MAAM,KAAK,OAAO;QAC/B,SAAS,cAAc,QAAQ,YAAY,KAAK,MAAM,MAAM,KAAK,OAAO;QACxE,OAAO;QACP,SAAS,iBAAiB,SAAS,CAAC,EAAE,CAAC,YAAY,MAAM,OAAO,CAAC,EAAE,CAAC;QACpE,SAAS,iBAAiB,SAAS,CAAC,EAAE,CAAC,YAAY,MAAM,OAAO,CAAC,EAAE,CAAC;QAEpE,OAAO;QAEP,SAAS,iBACP,gBACD,CAAC,EAAE,CAAC,MAAM,CAAC,oBAAoB,EAAE,MAAM,OAAO,CAAC,EAAE,CAAC,KAAK,IAAI,CAAC;QAC7D,SAAS,iBACP,gBACD,CAAC,EAAE,CAAC,MAAM,CAAC,sBAAsB,EAAE,MAAM,OAAO,CAAC,EAAE,CAAC,KAAK,IAAI,CAAC;IACjE,EAAE,OAAO,OAAO;QACd,QAAQ,IAAI;IACd;AACF","sources":["src/app.js"],"sourcesContent":["const searchInput = document.querySelector(\"#search\");\nconst appId = \"58b6f7c78582bffab3936dac99c31b25\";\nconst findCountry = async () => {\n  const listCountry = document.querySelector(\"ol\");\n  //clear ol\n  listCountry.innerHTML = \"\";\n\n  // fetch country coordinates\n  const getData = await fetch(\n    `https://api.mapbox.com/geocoding/v5/mapbox.places/${searchInput.value}.json?access_token=pk.eyJ1IjoidHVydXV1dSIsImEiOiJjbDBhZW15ZHAwMGhjM2RtZjB6dnltZnhjIn0.HSb4dmJFSM2USxDkTsScDg`\n  );\n  const data = await getData.json();\n\n  // render suggest countries\n  for (let i = 0; i < data.features.length; i++) {\n    const findBtn = document.createElement(\"button\");\n    findBtn.innerText = \"FIND\";\n    findBtn.addEventListener(\"click\", () => {\n      findWeather(data.features[i].center, data.features[i].place_name);\n    });\n    const liTag = document.createElement(\"li\");\n    liTag.innerHTML = data.features[i].place_name;\n    liTag.append(findBtn);\n    listCountry.append(liTag);\n  }\n};\nsearchInput.addEventListener(\"keypress\", function (event) {\n  if (event.key === \"Enter\") {\n    event.preventDefault();\n    document.getElementById(\"searchBtn\").click();\n  }\n});\nconst findWeather = (center, place_name) => {\n  secFunction(center[1], center[0], place_name);\n};\n\nconst secFunction = async (lat, lng, place_name) => {\n  try {\n    const getData = await fetch(\n      `https://api.openweathermap.org/data/2.5/forecast/daily?lat=${lat}&lon=${lng}&cnt=1&appid=${appId}&units=metric`\n    );\n    const data = await getData.json();\n    const today = data.list[0];\n\n    //Date\n    // timestamp to date\n    document.querySelectorAll(\"p\")[0].innerText = new Date(\n      today.dt * 1000\n    ).toDateString();\n    document.querySelectorAll(\"p\")[1].innerText = new Date(\n      today.dt * 1000\n    ).toDateString();\n\n    // location name\n    document.querySelectorAll(\"h1\")[0].innerText = place_name;\n    document.querySelectorAll(\"h1\")[1].innerText = place_name;\n\n    //high temp\n    document.querySelector(\".high\").innerHTML =\n      Math.floor(today.temp.max) + \"°\";\n    document.querySelector(\".low\").innerHTML = Math.floor(today.temp.min) + \"°\";\n    // icon\n    document.querySelectorAll(\".state\")[0].innerHTML = today.weather[0].main;\n    document.querySelectorAll(\".state\")[1].innerHTML = today.weather[0].main;\n\n    //image\n\n    document.querySelectorAll(\n      \".weather-icon\"\n    )[0].src = `./static/images/day/${today.weather[0].main}.png`;\n    document.querySelectorAll(\n      \".weather-icon\"\n    )[1].src = `./static/images/night/${today.weather[0].main}.png`;\n  } catch (error) {\n    console.log(error);\n  }\n};\n"],"names":[],"version":3,"file":"index.816e7b21.js.map","sourceRoot":"/__parcel_source_root/"}